<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>For My Love ❤️</title>
<style>
    body{
        margin:0;
        overflow:hidden;
        background:black;
        font-family: Arial;
    }

    h1{
        position:absolute;
        top:40%;
        width:100%;
        text-align:center;
        color:white;
        font-size:50px;
        text-shadow:0 0 20px pink;
        z-index:2;
    }

    button{
        position:absolute;
        top:70%;
        left:50%;
        transform:translateX(-50%);
        padding:15px 30px;
        font-size:18px;
        background:pink;
        border:none;
        border-radius:10px;
        cursor:pointer;
        z-index:2;
    }
</style>
</head>
<body>

<h1>Neha ❤️ I Love You</h1>
<button onclick="startShow()">Start Surprise ✨</button>

<audio id="music" src="https://cdn.pixabay.com/audio/2023/04/27/audio_7b9a5a9b0a.mp3"></audio>

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

<script>
let scene, camera, renderer, airplane;
let fireworks = [];

function startShow(){
    document.querySelector("button").style.display="none";
    document.querySelector("h1").innerText="Look at the Sky ✨";
    document.getElementById("music").play();
    init3D();
}

function init3D(){
    scene = new THREE.Scene();

    camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
    camera.position.z = 15;

    renderer = new THREE.WebGLRenderer({antialias:true});
    renderer.setSize(window.innerWidth, window.innerHeight);
    document.body.appendChild(renderer.domElement);

    // Galaxy stars
    let starsGeometry = new THREE.BufferGeometry();
    let starsMaterial = new THREE.PointsMaterial({color:0xffffff});
    let starVertices = [];

    for(let i=0;i<1000;i++){
        let x = (Math.random()-0.5)*200;
        let y = (Math.random()-0.5)*200;
        let z = (Math.random()-0.5)*200;
        starVertices.push(x,y,z);
    }

    starsGeometry.setAttribute('position', new THREE.Float32BufferAttribute(starVertices,3));
    let stars = new THREE.Points(starsGeometry, starsMaterial);
    scene.add(stars);

    // airplane body
    let body = new THREE.BoxGeometry(3,0.5,0.5);
    let mat = new THREE.MeshStandardMaterial({color:0xff0000});
    airplane = new THREE.Mesh(body, mat);
    scene.add(airplane);

    // wings
    let wingGeo = new THREE.BoxGeometry(1,0.1,4);
    let wing = new THREE.Mesh(wingGeo, mat);
    airplane.add(wing);

    // light
    let light = new THREE.PointLight(0xffffff,2);
    light.position.set(10,10,10);
    scene.add(light);

    animate();
}

function createFirework(){
    let particles = [];
    let geo = new THREE.BufferGeometry();
    let mat = new THREE.PointsMaterial({
        color: Math.random()*0xffffff,
        size:0.2
    });

    for(let i=0;i<200;i++){
        let x=0,y=0,z=0;
        particles.push(x,y,z);
    }

    geo.setAttribute('position', new THREE.Float32BufferAttribute(particles,3));
    let points = new THREE.Points(geo,mat);
    points.userData.vel=[];

    for(let i=0;i<200;i++){
        points.userData.vel.push({
            x:(Math.random()-0.5)*0.5,
            y:(Math.random()-0.5)*0.5,
            z:(Math.random()-0.5)*0.5
        });
    }

    points.position.set(
        (Math.random()-0.5)*20,
        (Math.random()-0.5)*10,
        (Math.random()-0.5)*20
    );

    scene.add(points);
    fireworks.push(points);
}

function animate(){
    requestAnimationFrame(animate);

    if(airplane){
        airplane.position.x += 0.05;
        if(airplane.position.x>15) airplane.position.x=-15;
        airplane.rotation.z +=0.02;
    }

    // fireworks spawn
    if(Math.random()<0.05){
        createFirework();
    }

    fireworks.forEach(f=>{
        let pos = f.geometry.attributes.position.array;
        for(let i=0;i<pos.length;i+=3){
            pos[i]+=f.userData.vel[i/3].x;
            pos[i+1]+=f.userData.vel[i/3].y;
            pos[i+2]+=f.userData.vel[i/3].z;
        }
        f.geometry.attributes.position.needsUpdate=true;
    });

    renderer.render(scene,camera);
}
</script>
</body>
</html>
